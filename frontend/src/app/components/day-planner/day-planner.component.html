<div class="min-h-screen dark:bg-black light:bg-gradient-to-br light:from-blue-50 light:via-gray-50 light:to-blue-50 dark:text-white light:text-gray-900 transition-colors duration-300">
  <!-- Premium Header -->
  <header class="sticky top-0 z-50 dark:bg-black/80 light:bg-white/95 backdrop-blur-xl dark:border-yellow-500/20 light:border-blue-500/20 border-b dark:shadow-yellow-500/10 light:shadow-blue-500/10 shadow-2xl transition-colors duration-300">
    <div class="container mx-auto px-4 py-4">
      <div class="flex items-center justify-between">
        <div class="flex items-center gap-4">
          <div class="w-12 h-12 dark:bg-gradient-to-br dark:from-yellow-400 dark:to-yellow-600 light:bg-gradient-to-br light:from-blue-400 light:to-blue-600 rounded-xl flex items-center justify-center shadow-lg dark:shadow-yellow-500/50 light:shadow-blue-500/50 transition-all duration-300">
            <span class="material-icons text-2xl dark:text-yellow-900 light:text-white">calendar_today</span>
          </div>
          <div>
            <h1 class="text-3xl font-bold bg-gradient-to-r dark:from-yellow-400 dark:via-yellow-500 dark:to-yellow-600 light:from-blue-500 light:via-blue-600 light:to-blue-700 bg-clip-text text-transparent">Planning Journalier</h1>
            <p class="text-xs dark:text-yellow-500/60 light:text-blue-600">Organisez vos sessions d'étude</p>
          </div>
        </div>
        
        <div class="flex items-center gap-3">
            <button (click)="themeService.toggleTheme()" 
              class="p-3 dark:bg-yellow-500/20 dark:hover:bg-yellow-500/30 light:bg-blue-100 light:hover:bg-blue-200 border dark:border-yellow-500/30 light:border-blue-400 rounded-xl dark:text-yellow-400 light:text-blue-700 transition-all duration-300 shadow-sm light:shadow-blue-200/60"
                  [title]="themeService.isDark() ? 'Passer en mode clair' : 'Passer en mode sombre'">
            <span class="material-icons">{{ themeService.isDark() ? 'light_mode' : 'dark_mode' }}</span>
          </button>
          
          <button (click)="goToDashboard()" class="px-4 py-2 dark:bg-gray-800 dark:hover:bg-gray-700 light:bg-white light:hover:bg-blue-50 border light:border-blue-300 rounded-xl dark:text-white light:text-gray-800 transition-all duration-300 flex items-center gap-2 shadow-sm light:shadow-blue-200/60">
            <span class="material-icons text-xl">arrow_back</span>
            Retour Dashboard
          </button>
        </div>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main class="container mx-auto px-4 py-8">
    
    @if (isLoading()) {
      <div class="flex items-center justify-center py-20">
        <div class="animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-yellow-500"></div>
      </div>
    } @else {
      
      <!-- Stats Dashboard -->
      <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-8">
        <!-- Total Planned -->
        <div class="relative overflow-hidden dark:bg-gradient-to-br dark:from-yellow-500/10 dark:to-yellow-600/10 light:bg-gradient-to-br light:from-blue-100 light:to-blue-200 dark:border-yellow-500/30 light:border-blue-400 border rounded-2xl p-6 dark:hover:border-yellow-500/50 light:hover:border-blue-500 transition-all duration-300 group shadow-lg light:shadow-blue-200/50">
          <div class="absolute top-0 right-0 w-32 h-32 dark:bg-yellow-500/10 light:bg-blue-200/50 rounded-full blur-3xl dark:group-hover:bg-yellow-500/20 light:group-hover:bg-blue-300/50 transition-all duration-500"></div>
          <div class="relative">
            <div class="text-4xl font-bold dark:bg-gradient-to-r dark:from-yellow-400 dark:to-yellow-600 dark:bg-clip-text dark:text-transparent light:text-blue-700 mb-2">
              {{ (totalPlannedMinutes() / 60).toFixed(1) }}h
            </div>
            <div class="text-sm dark:text-gray-400 light:text-gray-700 font-medium">Temps planifié</div>
          </div>
        </div>
        
        <!-- Total Studied -->
        <div class="relative overflow-hidden dark:bg-gradient-to-br dark:from-green-500/10 dark:to-green-600/10 light:bg-gradient-to-br light:from-green-100 light:to-green-200 dark:border-green-500/30 light:border-green-400 border rounded-2xl p-6 dark:hover:border-green-500/50 light:hover:border-green-500 transition-all duration-300 group shadow-lg light:shadow-green-200/50">
          <div class="absolute top-0 right-0 w-32 h-32 dark:bg-green-500/10 light:bg-green-200/50 rounded-full blur-3xl dark:group-hover:bg-green-500/20 light:group-hover:bg-green-300/50 transition-all duration-500"></div>
          <div class="relative">
            <div class="text-4xl font-bold dark:bg-gradient-to-r dark:from-green-400 dark:to-green-600 dark:bg-clip-text dark:text-transparent light:text-green-700 mb-2">
              {{ (totalStudiedMinutes() / 60).toFixed(1) }}h
            </div>
            <div class="text-sm dark:text-gray-400 light:text-gray-700 font-medium">Temps étudié</div>
          </div>
        </div>
        
        <!-- Sessions Count -->
        <div class="relative overflow-hidden bg-gradient-to-br dark:from-purple-500/10 dark:to-purple-600/10 light:from-indigo-100 light:to-indigo-200 border dark:border-purple-500/30 light:border-indigo-400 rounded-2xl p-6 dark:hover:border-purple-500/50 light:hover:border-indigo-500 transition-all duration-300 group shadow-lg light:shadow-indigo-200/50">
          <div class="absolute top-0 right-0 w-32 h-32 dark:bg-purple-500/10 light:bg-indigo-200/50 rounded-full blur-3xl dark:group-hover:bg-purple-500/20 light:group-hover:bg-indigo-300/50 transition-all duration-500"></div>
          <div class="relative">
            <div class="text-4xl font-bold dark:bg-gradient-to-r dark:from-purple-400 dark:to-purple-600 dark:bg-clip-text dark:text-transparent light:text-indigo-700 mb-2">
              {{ sessions().length }}
            </div>
            <div class="text-sm dark:text-gray-400 light:text-gray-700 font-medium">Sessions</div>
          </div>
        </div>

        <!-- Tasks Today -->
        <div class="relative overflow-hidden bg-gradient-to-br dark:from-pink-500/10 dark:to-pink-600/10 light:from-purple-100 light:to-purple-200 border dark:border-pink-500/30 light:border-purple-400 rounded-2xl p-6 dark:hover:border-pink-500/50 light:hover:border-purple-500 transition-all duration-300 group shadow-lg light:shadow-purple-200/50">
          <div class="absolute top-0 right-0 w-32 h-32 dark:bg-pink-500/10 light:bg-purple-200/50 rounded-full blur-3xl dark:group-hover:bg-pink-500/20 light:group-hover:bg-purple-300/50 transition-all duration-500"></div>
          <div class="relative">
            <div class="text-4xl font-bold dark:bg-gradient-to-r dark:from-pink-400 dark:to-pink-600 dark:bg-clip-text dark:text-transparent light:text-purple-700 mb-2">
              {{ completedTasks() }}/{{ todayTasks().length }}
            </div>
            <div class="text-sm dark:text-gray-400 light:text-gray-700 font-medium">Tâches du jour</div>
          </div>
        </div>
      </div>

      <!-- Calendar Section -->
      <div class="bg-gradient-to-br dark:from-gray-900 dark:to-black light:bg-white border-2 dark:border-yellow-500/20 light:border-blue-300 rounded-2xl p-6 shadow-2xl dark:shadow-yellow-500/5 light:shadow-xl light:shadow-blue-200/60 transition-colors duration-300">
        <div class="flex items-center justify-between mb-6 pb-4 border-b dark:border-yellow-500/20 light:border-blue-400">
          <h2 class="text-2xl font-bold bg-gradient-to-r dark:from-yellow-400 dark:to-yellow-600 light:from-blue-600 light:to-blue-700 bg-clip-text text-transparent flex items-center gap-2">
            <span class="material-icons text-3xl">event_note</span>
            Calendrier d'étude
          </h2>
          
          <div class="flex gap-3 flex-wrap text-xs">
            <div class="flex items-center gap-2">
              <div class="w-3 h-3 rounded-full" style="background: linear-gradient(135deg, #3b82f6, #8b5cf6);"></div>
              <span class="dark:text-gray-400 light:text-gray-700 font-medium">À faire</span>
            </div>
            <div class="flex items-center gap-2">
              <div class="w-3 h-3 bg-green-500 rounded-full"></div>
              <span class="dark:text-gray-400 light:text-gray-700 font-medium flex items-center gap-1">
                <span class="material-icons text-sm">check</span>
                Complété
              </span>
            </div>
          </div>
        </div>
        
        <div class="calendar-wrapper bg-white rounded-xl p-4 shadow-inner">
          <full-calendar [options]="calendarOptions()"></full-calendar>
        </div>

        <div class="mt-6 p-4 dark:bg-yellow-500/10 light:bg-gradient-to-br light:from-blue-50 light:to-blue-100 border-2 dark:border-yellow-500/30 light:border-blue-400 rounded-xl transition-colors duration-300 shadow-md light:shadow-blue-200/50">
          <div class="flex items-center gap-3">
            <span class="material-icons text-3xl dark:text-yellow-400 light:text-blue-600">lightbulb</span>
            <div class="flex-1">
              <p class="dark:text-yellow-400 light:text-blue-700 font-semibold mb-1">Comment utiliser:</p>
              <ul class="text-sm dark:text-gray-400 light:text-gray-700 space-y-1 font-medium">
                <li>• Cliquez et glissez sur le calendrier pour créer une nouvelle session</li>
                <li>• Cliquez sur une session pour la modifier ou la supprimer</li>
                <li>• Déplacez ou redimensionnez les sessions par glisser-déposer</li>
              </ul>
            </div>
          </div>
        </div>
      </div>

    }

  </main>

  <!-- Footer -->
  <footer class="dark:bg-black/50 light:bg-white border-t dark:border-yellow-500/20 light:border-blue-300 mt-16 transition-colors duration-300">
    <div class="container mx-auto px-4 py-6 text-center">
      <p class="dark:text-gray-500 light:text-gray-600 text-sm">EduFocus © 2024 - Premium Study Planner</p>
    </div>
  </footer>
</div>
